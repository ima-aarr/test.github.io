<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>DIGITAL JUNKYARD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script async src="https://unpkg.com/es-module-shims@1.8.0/dist/es-module-shims.js"></script>
    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js"
        }
    }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap');
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Space Mono', monospace; touch-action: none; cursor: crosshair; }
        .ui-header { position: fixed; top: 0; left: 0; right: 0; padding: 1.5rem; display: flex; justify-content: space-between; color: limegreen; font-size: 0.6rem; letter-spacing: 0.15em; border-bottom: 1px solid rgba(0,255,0,0.2); }
        .ui-footer { position: fixed; bottom: 0; left: 0; right: 0; padding: 1.5rem; display: flex; justify-content: space-between; color: cyan; font-size: 0.6rem; letter-spacing: 0.15em; border-top: 1px solid rgba(0,255,255,0.2); }
        #info-panel { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 1.5rem; background: rgba(0,0,0,0.8); border: 1px solid rgba(0,255,255,0.5); border-radius: 4px; color: cyan; font-size: 0.8rem; letter-spacing: 0.05em; line-height: 1.5; opacity: 0; pointer-events: none; transition: opacity 0.3s; z-index: 200; }
        #info-panel.active { opacity: 1; pointer-events: auto; }
        .title-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Syncopate', sans-serif; font-size: 3rem; md:font-size: 6rem; font-weight: bold; color: white; mix-blend-mode: difference; z-index: 100; pointer-events: none; }
    </style>
</head>
<body>
    <div class="ui-header">
        <span>STATUS: OMNI-RLM ONLINE</span>
        <span>ENERGY: 99.8%</span>
    </div>

    <div class="title-text">DIGITAL JUNKYARD</div>

    <div id="info-panel">
        <h3 id="panel-title" class="text-lg font-bold mb-2"></h3>
        <p id="panel-description"></p>
        <p id="panel-status" class="text-xs mt-2 opacity-70"></p>
    </div>

    <div class="ui-footer">
        <span>OBJECTS: + COUNTLESS</span>
        <span>SYNC_RATE: <span class="text-pink-500">▲▲▲</span> 99.8%</span>
    </div>

    <canvas id="canvas" class="fixed inset-0"></canvas>

    <script type="module">
        import * as THREE from 'three';

        const canvas = document.getElementById('canvas');
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        const light = new THREE.PointLight(0xffffff, 1000);
        light.position.set(0, 0, 50);
        scene.add(light, new THREE.AmbientLight(0x333333));

        const objects = [];
        const objectData = [
            { geo: new THREE.BoxGeometry(3, 3, 3), mat: new THREE.MeshBasicMaterial({ color: 0x00ffff, wireframe: true }), data: { title: "CORE_MODULE", desc: "Primary computation unit. Online." } },
            { geo: new THREE.SphereGeometry(2.5, 32, 32), mat: new THREE.MeshBasicMaterial({ color: 0xffff00, wireframe: true }), data: { title: "DATA_ORB", desc: "Encrypted memory cluster. Stable." } },
            { geo: new THREE.CylinderGeometry(2, 2, 5, 32), mat: new THREE.MeshBasicMaterial({ color: 0xff00ff, wireframe: true }), data: { title: "STRUCT_BEAM", desc: "Structural integrity component. Optimal." } },
            { geo: new THREE.TorusKnotGeometry(2, 0.5, 100, 16), mat: new THREE.MeshBasicMaterial({ color: 0x00ff00, wireframe: true }), data: { title: "NEURAL_LINK", desc: "Inter-system data conduit. Active." } },
            { geo: new THREE.OctahedronGeometry(2.8, 0), mat: new THREE.MeshBasicMaterial({ color: 0xffa500, wireframe: true }), data: { title: "MEMORY_CLUSTER", desc: "Fragmented historical records. Accessed." } }
        ];

        for (let i = 0; i < 20; i++) {
            const dataIndex = Math.floor(Math.random() * objectData.length);
            const item = objectData[dataIndex];
            const mesh = new THREE.Mesh(item.geo, item.mat.clone());
            
            mesh.position.set(
                (Math.random() - 0.5) * 60,
                (Math.random() - 0.5) * 40,
                (Math.random() - 0.5) * 60
            );
            mesh.rotation.set(
                Math.random() * Math.PI,
                Math.random() * Math.PI,
                Math.random() * Math.PI
            );
            mesh.userData = { ...item.data, id: i, rotationSpeed: Math.random() * 0.02 + 0.005 };
            scene.add(mesh);
            objects.push(mesh);
        }

        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();
        const infoPanel = document.getElementById('info-panel');

        function onPointerClick(event) {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(objects);

            if (intersects.length > 0) {
                const clickedObject = intersects[0].object;
                document.getElementById('panel-title').innerText = clickedObject.userData.title;
                document.getElementById('panel-description').innerText = clickedObject.userData.desc;
                document.getElementById('panel-status').innerText = `ID: ${clickedObject.userData.id} | Status: Active`;
                infoPanel.classList.add('active');
            } else {
                infoPanel.classList.remove('active');
            }
        }
        window.addEventListener('click', onPointerClick);
        window.addEventListener('touchend', onPointerClick);

        camera.position.z = 50;

        function animate() {
            requestAnimationFrame(animate);

            objects.forEach(obj => {
                obj.rotation.x += obj.userData.rotationSpeed * 0.5;
                obj.rotation.y += obj.userData.rotationSpeed;
            });

            camera.position.x += ((mouse.x * 20) - camera.position.x) * 0.05;
            camera.position.y += ((-mouse.y * 20) - camera.position.y) * 0.05;
            camera.lookAt(scene.position);

            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
